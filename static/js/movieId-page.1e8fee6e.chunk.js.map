{"version":3,"sources":["services/articles-api.js","components/Movie/movie.module.css","components/Movie/Movie.js","pages/MovieId.js"],"names":["axios","defaults","baseURL","KEY","fetchMoviesTrending","category","type","time","url","get","then","response","data","results","fetchMovieWithId","id","fetchMovieSearch","search","fetchMovieCast","fetchMovieReviews","module","exports","AsyncCast","lazy","AsyncReviews","selected","color","Movie","handleGoback","props","history","location","state","goBack","push","pathname","this","title","poster_path","popularity","genres","overview","match","className","styles","btn","onClick","src","alt","map","genre","key","name","item","activeStyle","to","from","replace","fallback","path","component","Component","defaultProps","withRouter","MovieId","movie","params","setState"],"mappings":"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","file":"static/js/movieId-page.1e8fee6e.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst KEY = '?api_key=cff0af22b80c776aec1c17ab43adb9ad';\n\nconst fetchMoviesTrending = (\n  category = 'trending',\n  type = 'movie',\n  time = 'day',\n) => {\n  const url = `${category}/${type}/${time}${KEY}`;\n  return axios.get(url).then(response => response.data.results);\n};\n\nconst fetchMovieWithId = id => {\n  return axios.get(`/movie/${id}${KEY}`).then(response => response.data);\n};\n\nconst fetchMovieSearch = search => {\n  return axios\n    .get(`/search/movie${KEY}&query=${search}`)\n    .then(response => response.data);\n};\n\nconst fetchMovieCast = id => {\n  return axios\n    .get(`/movie/${id}/credits${KEY}`)\n    .then(response => response.data);\n};\n\nconst fetchMovieReviews = id => {\n  return axios\n    .get(`/movie/${id}/reviews${KEY}`)\n    .then(response => response.data);\n};\n\nexport {\n  fetchMoviesTrending,\n  fetchMovieWithId,\n  fetchMovieSearch,\n  fetchMovieCast,\n  fetchMovieReviews,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"movie_item__1xK96\",\"btn\":\"movie_btn__2UYR3\"};","import React, { Component, lazy, Suspense } from 'react';\nimport T from 'prop-types';\nimport { NavLink, Route, withRouter, Switch } from 'react-router-dom';\nimport styles from './movie.module.css';\n\nconst AsyncCast = lazy(() =>\n  import('../../pages/Cast' /* webpackChunkName: \"cast-page\" */),\n);\n\nconst AsyncReviews = lazy(() =>\n  import('../../pages/Reviews' /* webpackChunkName: \"reviews-page\" */),\n);\n\nconst linkPoster = `https://image.tmdb.org/t/p/w300`;\n\nconst selected = {\n  color: 'red',\n};\n\nclass Movie extends Component {\n  static propTypes = {\n    history: T.shape({\n      push: T.func,\n      goBack: T.func.isRequired,\n      replace: T.func.isRequired,\n    }).isRequired,\n    location: T.shape({\n      state: T.shape({}),\n      pathname: T.string,\n    }).isRequired,\n    match: T.shape({\n      url: T.string,\n      path: T.string,\n    }).isRequired,\n    title: T.string,\n    poster_path: T.string,\n    popularity: T.number,\n    // eslint-disable-next-line react/require-default-props\n    genres: T.arrayOf(\n      T.shape({\n        id: T.number,\n        name: T.string,\n      }),\n    ),\n    overview: T.string,\n  };\n\n  static defaultProps = {\n    title: '',\n    poster_path: '',\n    popularity: null,\n    overview: '',\n  };\n\n  handleGoback = () => {\n    const { history, location } = this.props;\n\n    if (location.state) {\n      history.goBack();\n      return;\n    }\n\n    history.push({\n      pathname: '/movies',\n    });\n  };\n\n  render() {\n    const {\n      title,\n      // eslint-disable-next-line camelcase\n      poster_path,\n      popularity,\n      genres,\n      overview,\n      match,\n      location,\n    } = this.props;\n\n    return (\n      <article>\n        <button   className={styles.btn} type=\"button\" onClick={this.handleGoback}>\n          Go Back\n        </button>\n\n        <h2>{title} </h2>\n\n        {poster_path ? (\n          <img src={linkPoster + poster_path} alt={title} />\n        ) : (\n          <></>\n        )}\n\n        <p>\n          <b>Popularity: {popularity}</b>\n        </p>\n        <p>Overview: {overview}</p>\n\n        <ul>\n          {genres ? (\n            genres.map(genre => <li key={genre.id}>{genre.name}</li>)\n          ) : (\n            <></>\n          )}\n        </ul>\n\n        <div>\n          <p>Additional information</p>\n          <ul>\n            <li className={styles.item}>\n              <NavLink\n                activeStyle={selected}\n                to={{\n                  pathname: `${match.url}/cast`,\n                  state: { from: location },\n                }}\n                replace\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li className={styles.item}>\n              <NavLink\n                activeStyle={selected}\n                to={{\n                  pathname: `${match.url}/reviews`,\n                  state: { from: location },\n                }}\n                replace\n              >\n                Revievs\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <Suspense fallback={<h2>Loading...</h2>}>\n          <Switch>\n            <Route path={`${match.path}/cast`} component={AsyncCast} />\n            <Route path={`${match.path}/reviews`} component={AsyncReviews} />\n          </Switch>\n        </Suspense>\n      </article>\n    );\n  }\n}\n\nexport default withRouter(Movie);\n","import React, { Component } from 'react';\nimport Movie from '../components/Movie/Movie';\nimport { fetchMovieWithId } from '../services/articles-api';\n\nconst getIdFromProps = props => props.match.params.id;\n\nexport default class MovieId extends Component {\n  state = {\n    movie: null,\n  };\n\n  componentDidMount() {\n    const id = getIdFromProps(this.props);\n    fetchMovieWithId(id).then(movie => this.setState({ movie }));\n  }\n\n  render() {\n    const { movie } = this.state;\n    return (\n      <div>\n        <Movie {...movie} />\n      </div>\n    );\n  }\n}\n\n// const getIdFromProps = props => props.match.params.id;\n\n// export default class ArticlePage extends Component {\n//   state = { article: null };\n\n//   componentDidMount() {\n//     const id = getIdFromProps(this.props);\n//     articleAPI\n//       .fetchArticleWithId(id)\n//       .then(article => this.setState({ article }));\n//   }\n\n//   handleGoback = () => {\n//     const { history, location } = this.props;\n\n//     if (location.state) {\n//       return history.push(location.state.from);\n//     }\n\n//     history.push('/articles');\n//   };\n\n//   render() {\n//     const { article } = this.state;\n\n//     return (\n//       <div>\n//         <h1>Single Article Page</h1>\n\n//         <h2>{JSON.stringify(this.props.location.state)}</h2>\n//         {article && <Article {...article} onGoback={this.handleGoback} />}\n//       </div>\n//     );\n//   }\n// }\n"],"sourceRoot":""}